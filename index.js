// RFC 5322 (https://datatracker.ietf.org/doc/html/rfc5322)
const regex = '(?:(?:(?:(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+(?:\\.(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+)+)|(?:"(?:(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}(?:(?:!|[\\u0023-\\u005B]|[\\u005D-\\u007E]|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F))|(?:(?:\\\\(?:[\\u0021-\\u007E]|[\\u0009 ]))|(?:\\\\(?:\\u0000|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F)|\\u000A|\\u000D)))))*(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}")|(?:(?:(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+|(?:"(?:(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}(?:(?:!|[\\u0023-\\u005B]|[\\u005D-\\u007E]|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F))|(?:(?:\\\\(?:[\\u0021-\\u007E]|[\\u0009 ]))|(?:\\\\(?:\\u0000|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F)|\\u000A|\\u000D)))))*(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}"))(?:\\.(?:(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+|(?:"(?:(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}(?:(?:!|[\\u0023-\\u005B]|[\\u005D-\\u007E]|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F))|(?:(?:\\\\(?:[\\u0021-\\u007E]|[\\u0009 ]))|(?:\\\\(?:\\u0000|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F)|\\u000A|\\u000D)))))*(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}")))*))@(?:(?:(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+(?:\\.(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+)+)|(?:\\[(?:(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}(?:[\\u0021-\\u005A]|[\\u005E-\\u007E]|(?:(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F)|(?:(?:\\\\(?:[\\u0021-\\u007E]|[\\u0009 ]))|(?:\\\\(?:\\u0000|(?:[\\u0001-\\u0008]|\\u000B|\\u000C|[\\u000E-\\u001F]|\\u007F)|\\u000A|\\u000D))))))*(?:(?:(?:[\\u0009 ]*\\u000D\\u000A){0,1}[\\u0009 ]+)|(?:[\\u0009 ]+(?:\\u000D\\u000A[\\u0009 ]+)*)){0,1}])|(?:(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+(?:\\.(?:(?:[A-Z]|[a-z])|\\d|!|#|\\$|%|&|\'|\\*|\\+|-|\\/|=|\\?|\\^|_|`|{|\\||}|~)+)*)))';

export default function emailRegex({exact} = {}) {
	return exact ? new RegExp(`^${regex}$`) : new RegExp(regex, 'g');
}
